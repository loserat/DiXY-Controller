views:
  - title: Dashboard
    cards:
      - type: custom:mini-graph-card
        name: VPD-Wert Verlauf (48h)
        entities:
          - entity: sensor.zeltsensor_vpd_dummy
            name: IST
        hours_to_show: 48
        points_per_hour: 8
        color_thresholds:
          - value: 0.4
            color: '#2f6fa3'
          - value: 0.8
            color: '#22ab9c'
          - value: 1.2
            color: '#00cd00'
          - value: 1.5
            color: '#e7c12b'
          - value: 1.8
            color: '#ce4234'
          - value: 2.2
            color: '#8b1e14'
    type: sections
    badges: []
    sections:
      - type: grid
        cards:
          - type: heading
            heading: RDWC Kreislaufsystem Zelt
            heading_style: title
          - type: custom:mini-graph-card
            name: EC-Wert Verlauf
            entities:
              - entity: sensor.hydroknoten_hydroknoten_ec_sensor
            hours_to_show: 4
            points_per_hour: 8
            show:
              labels: true
            color_thresholds:
              - value: 0.3
                color: '#0f172a'
              - value: 0.6
                color: '#1e3a8a'
              - value: 0.9
                color: '#2563eb'
              - value: 1.2
                color: '#06b6d4'
              - value: 1.5
                color: '#16a34a'
              - value: 1.8
                color: '#22c55e'
              - value: 2.1
                color: '#84cc16'
              - value: 2.4
                color: '#facc15'
              - value: 2.8
                color: '#f97316'
              - value: 3.2
                color: '#dc2626'
              - value: 3.6
                color: '#7f1d1d'
          - type: custom:mini-graph-card
            name: PH-Wert Verlauf
            entities:
              - entity: sensor.hydroknoten_hydroknoten_ph_sensor
                name: PH-IST
            hours_to_show: 2
            points_per_hour: 10
            show:
              labels: true
            color_thresholds:
              - value: 4.5
                color: '#7f1d1d'
              - value: 5
                color: '#dc2626'
              - value: 5.5
                color: '#f97316'
              - value: 5.8
                color: '#16a34a'
              - value: 6.2
                color: '#84cc16'
              - value: 6.6
                color: '#facc15'
              - value: 7
                color: '#2563eb'
              - value: 7.5
                color: '#1e3a8a'
          - type: custom:mini-graph-card
            name: EC-Verlauf Dosierungssteuerung
            entities:
              - entity: sensor.hydroknoten_hydroknoten_ec_sensor
                name: EC-IST
                color: green
              - entity: number.dosierung_ec_zielwert
                name: EC-Zielwert
                color: lightgreen
            hours_to_show: 12
            points_per_hour: 8
            show:
              labels: true
      - type: grid
        cards:
          - type: heading
            heading: Sensoren im Zelt
            heading_style: title
          - type: custom:mini-graph-card
            name: VPD-Wert Verlauf (48h)
            entities:
              - entity: sensor.vpd_ist
                name: IST
                icon: gauge
            hours_to_show: 24
            points_per_hour: 6
            color_thresholds:
              - value: 0.4
                color: '#2f6fa3'
              - value: 0.8
                color: '#22ab9c'
              - value: 1.2
                color: '#00cd00'
              - value: 1.5
                color: '#e7c12b'
              - value: 1.8
                color: '#ce4234'
              - value: 2.2
                color: '#8b1e14'
          - type: custom:mini-graph-card
            name: Temperatur-Verlauf Zelt (48h)
            entities:
              - entity: sensor.zeltsensor_bmp280_temperatur
                name: IST
            hours_to_show: 12
            points_per_hour: 4
            show:
              labels: true
          - graph: line
            type: sensor
            entity: sensor.zeltsensor_relative_luftfeuchte
            grid_options:
              columns: full
            detail: 1
            limits: {}
            hours_to_show: 48
            name: Zelt-Luftfeuchtigkeit (48h)
          - graph: line
            type: sensor
            entity: sensor.zeltsensor_bmp280_temperatur
            grid_options:
              columns: full
            detail: 1
            limits: {}
            hours_to_show: 48
            name: Zelt-Innentemperatur (48h)
          - type: custom:ha-vpd-chart
            vpd_phases:
              - upper: 0
                className: gray-danger-zone
                color: '#999999'
              - lower: 0
                upper: 0.4
                className: under-transpiration
                color: '#1a6c9c'
              - lower: 0.4
                upper: 0.8
                className: early-veg
                color: '#22ab9c'
              - lower: 0.8
                upper: 1.2
                className: late-veg
                color: '#9cc55b'
              - lower: 1.2
                upper: 1.6
                className: mid-late-flower
                color: '#e7c12b'
              - lower: 1.6
                className: danger-zone
                color: '#ce4234'
            rooms:
              - humidity: sensor.zeltsensor_relative_luftfeuchte
                name: Zelt 1
                temperature: sensor.zeltsensor_bmp280_temperatur
                leaf_temperature: sensor.zeltsensor_bmp280_temperatur
            is_bar_view: false
            min_temperature: 5
            max_temperature: 35
            min_humidity: 10
            max_humidity: 90
            min_height: 200
            leaf_temperature_offset: 2
            enable_tooltip: false
            leaf_text: Blatt
            rh_text: RLF
            kpa_text: kPa
            enable_axes: true
            enable_ghostclick: true
            enable_ghostmap: false
            enable_triangle: false
            enable_crosshair: true
            enable_zoom: true
            enable_show_always_informations: false
            enable_legend: false
            ghostmap_hours: 24
            antialiasing: 5
            unit_temperature: °C
            air_text: Luft
          - type: custom:mini-graph-card
            name: Beleuchtungsverlauf (24h)
            entities:
              - entity: sensor.zeltsensor_bmp280_temperatur
                name: Zelttemp. IN
                color: orange
              - entity: sensor.hydroknoten_hydroknoten_temperatur
                name: Zeltemp. OUT
            hours_to_show: 48
            points_per_hour: 2
            show:
              labels: true
      - type: grid
        cards:
          - type: heading
            heading_style: title
            heading: Wasservolumen
          - type: custom:mini-graph-card
            name: RDWC Volumen
            entities:
              - entity: sensor.tankknoten_rdwc_fuellstand
                name: Istwert
            color_thresholds:
              - value: 0
                color: '#8b1e14'
              - value: 10
                color: '#ce4234'
              - value: 20
                color: '#e7c12b'
              - value: 30
                color: '#19b57c'
              - value: 45
                color: '#00cd00'
              - value: 60
                color: '#22ab9c'
              - value: 70
                color: '#4fa3b6'
              - value: 80
                color: '#2f6fa3'
            hours_to_show: 1
            points_per_hour: 24
            show:
              labels: true
          - type: custom:mini-graph-card
            name: Haupttank Volumen
            entities:
              - entity: sensor.tankknoten_haupttank_fuellstand
                name: Istwert
            color_thresholds:
              - value: 0
                color: '#8b1e14'
              - value: 15
                color: '#ce4234'
              - value: 40
                color: '#e7c12b'
              - value: 80
                color: '#19b57c'
              - value: 120
                color: '#00cd00'
              - value: 160
                color: '#22ab9c'
              - value: 200
                color: '#4fa3b6'
              - value: 300
                color: '#2f6fa3'
            hours_to_show: 1
            points_per_hour: 24
            show:
              labels: true
          - type: custom:mini-graph-card
            name: RDWC-System pH
            entities:
              - entity: sensor.hydroknoten_hydroknoten_ph_sensor
                name: PH-IST
            hours_to_show: 2
            points_per_hour: 8
            show:
              labels: true
            color_thresholds:
              - value: 5.3
                color: '#2f6fa3'
              - value: 5.6
                color: '#22ab9c'
              - value: 6
                color: '#00cd00'
              - value: 6.3
                color: '#e7c12b'
              - value: 6.6
                color: '#ce4234'
              - value: 7
                color: '#8b1e14'
          - type: custom:mini-graph-card
            name: Haupttank pH
            entities:
              - entity: sensor.tankknoten_tankknoten_ph
                name: PH-IST
            hours_to_show: 2
            points_per_hour: 8
            show:
              labels: true
            color_thresholds:
              - value: 5.3
                color: '#2f6fa3'
              - value: 5.6
                color: '#22ab9c'
              - value: 6
                color: '#00cd00'
              - value: 6.3
                color: '#e7c12b'
              - value: 6.6
                color: '#ce4234'
              - value: 7
                color: '#8b1e14'
          - type: custom:mini-graph-card
            name: RDWC-System EC
            entities:
              - entity: sensor.hydroknoten_hydroknoten_ec_sensor
                name: Istwert
            color_thresholds:
              - value: 0.6
                color: '#2f6fa3'
              - value: 1
                color: '#4fa3b6'
              - value: 1.4
                color: '#22ab9c'
              - value: 1.8
                color: '#00cd00'
              - value: 2.2
                color: '#19b57c'
              - value: 2.4
                color: '#e7c12b'
              - value: 2.5
                color: '#ce4234'
              - value: 2.6
                color: '#8b1e14'
            hours_to_show: 2
            points_per_hour: 12
            show:
              labels: true
        column_span: 2
  - type: sections
    max_columns: 4
    title: Beleuchtung
    path: beleuchtung
    sections:
      - type: grid
        cards:
          - type: custom:mini-graph-card
            name: Beleuchtungsverlauf (12h)
            entities:
              - entity: input_number.lichtwert_zeitschaltuhr
                name: Automatik
              - entity: input_number.helligkeit_manuell
                name: Manuell
                color: red
              - entity: sensor.zeltsensor_zeltlampe_helligkeit
                name: IST
                color: green
            hours_to_show: 6
            points_per_hour: 8
            unit: '%'
            font_size_header: null
            show:
              labels: true
          - type: custom:as7341-spectrum-card
            title: Lichtspektrum Zeltsensor
            entities:
              f1: sensor.zeltsensor_as7341_f1_415nm
              f2: sensor.zeltsensor_as7341_f2_445nm
              f3: sensor.zeltsensor_as7341_f3_480nm
              f4: sensor.zeltsensor_as7341_f4_515nm
              f5: sensor.zeltsensor_as7341_f5_555nm
              f6: sensor.zeltsensor_as7341_f6_590nm
              f7: sensor.zeltsensor_as7341_f7_630nm
              f8: sensor.zeltsensor_as7341_f8_680nm
              clear: sensor.zeltsensor_as7341_clear
              nir: sensor.zeltsensor_as7341_nir
          - graph: line
            type: sensor
            entity: sensor.zeltsensor_ppfd_mmol_m2s
            detail: 1
            grid_options:
              columns: full
              rows: 2
          - graph: line
            type: sensor
            entity: sensor.zeltsensor_dli_mol_m2d
            detail: 1
            grid_options:
              columns: full
              rows: 2
            name: DLI (48h)
          - graph: line
            type: sensor
            entity: sensor.zeltsensor_lux_as7341
            detail: 1
            grid_options:
              columns: full
              rows: 2
            name: Beleuchtungstärke
            limits: {}
      - type: grid
        cards:
          - type: heading
            heading: Zeitschaltuhrbetrieb
            heading_style: subtitle
            icon: mdi:sun-clock
          - type: tile
            entity: sensor.zeltsensor_lichtsteuerung_version
            name: 'Zeitschaltuhr-Version:'
            icon: mdi:diversify
            vertical: false
            features_position: bottom
          - show_name: true
            show_icon: false
            type: button
            entity: switch.zeltsensor_auto
            grid_options:
              columns: full
              rows: 1
            name: Zeitschaltuhr aktivieren
          - type: custom:time-picker-card
            entity: input_datetime.einschaltzeit
            hour_mode: 24
            hour_step: 1
            minute_step: 5
            layout:
              hour_mode: double
              align_controls: center
              name: header
              thin: true
              embedded: false
            hide:
              seconds: true
            grid_options:
              columns: 6
              rows: auto
            visibility:
              - condition: state
                entity: switch.zeltsensor_auto
                state: 'on'
          - type: custom:time-picker-card
            entity: input_datetime.auschaltzeit
            hour_mode: 24
            hour_step: 1
            minute_step: 5
            layout:
              hour_mode: double
              align_controls: center
              name: header
              thin: true
            hide:
              seconds: true
              icon: false
              name: false
            grid_options:
              columns: 6
              rows: auto
            link_values: false
            visibility:
              - condition: state
                entity: switch.zeltsensor_auto
                state: 'on'
          - type: custom:mushroom-number-card
            entity: input_number.lichtwert_zeitschaltuhr
            icon_color: primary
            layout: horizontal
            name: 'Beleuchtungstärke '
            visibility:
              - condition: state
                entity: switch.zeltsensor_auto
                state: 'on'
          - type: heading
            heading: Sonnenauf- & Untergangs Simulation
            heading_style: subtitle
            icon: mdi:sun-snowflake-variant
            visibility:
              - condition: state
                entity: switch.zeltsensor_auto
                state: 'on'
          - show_name: true
            show_icon: false
            type: button
            entity: switch.zeltsensor_zeltlampe_sa_su_aktiv
            grid_options:
              columns: full
              rows: 1
            name: SA & SU Simulation
            theme: Mushroom
            visibility:
              - condition: state
                entity: switch.zeltsensor_auto
                state: 'on'
          - type: custom:mushroom-number-card
            entity: number.zeltsensor_sonnenaufgang_dauer
            layout: horizontal
            name: Sonnenaufganszeit
            visibility:
              - condition: state
                entity: switch.zeltsensor_zeltlampe_sa_su_aktiv
                state: 'on'
              - condition: state
                entity: switch.zeltsensor_auto
                state: 'on'
          - type: custom:mushroom-number-card
            entity: number.zeltsensor_sonnenuntergang_dauer
            layout: horizontal
            name: Sonnenuntergangszeit
            visibility:
              - condition: state
                entity: switch.zeltsensor_zeltlampe_sa_su_aktiv
                state: 'on'
              - condition: state
                entity: switch.zeltsensor_auto
                state: 'on'
      - type: grid
        cards:
          - type: heading
            heading: Manueller Betrieb
            heading_style: subtitle
          - show_name: true
            show_icon: false
            type: button
            entity: switch.zeltsensor_manuell
            icon: mdi:television-ambient-light
            grid_options:
              columns: 12
              rows: 1
            name: Manuelle Steuerung aktivieren
          - type: custom:mushroom-number-card
            entity: number.zeltsensor_manuelle_helligkeit
            icon_color: red
            layout: horizontal
            name: 'Beleuchtungstärke '
            icon: mdi:account-wrench
            visibility:
              - condition: state
                entity: switch.zeltsensor_manuell
                state: 'on'
      - type: grid
        cards:
          - type: custom:mushroom-light-card
            entity: light.zeltsensor_zeltlampe
            name: Zeltlampe SF-G3000
            use_light_color: false
            show_brightness_control: true
            show_color_control: false
            show_color_temp_control: false
            collapsible_controls: true
            fill_container: false
            layout: horizontal
            icon: mdi:lightbulb
    badges:
      - type: entity
        show_name: false
        show_state: true
        show_icon: true
        entity: sensor.zeltsensor_dli_mol_m2d
      - type: entity
        show_name: false
        show_state: true
        show_icon: true
        entity: sensor.zeltsensor_ppfd_mmol_m2s
      - type: entity
        show_name: false
        show_state: true
        show_icon: true
        entity: sensor.zeltsensor_lux_as7341
      - type: entity
        show_name: false
        show_state: true
        show_icon: true
        entity: sensor.zeltsensor_zeltlampe_helligkeit
        icon: mdi:ceiling-light
      - type: entity
        show_name: true
        show_state: true
        show_icon: true
        entity: sensor.zeltsensor_zeltsensor_version
        name: 'ZELT:'
        icon: mdi:paperclip
      - type: entity
        show_name: true
        show_state: true
        show_icon: true
        entity: sensor.zeltsensor_lichtsteuerung_version
        name: 'BEL:'
        icon: mdi:diversify
    header:
      layout: center
      badges_position: top
      badges_wrap: scroll
  - type: sections
    max_columns: 4
    title: Zeltsensor
    path: klima
    sections:
      - type: grid
        cards:
          - type: heading
            heading: Sensordaten Zelt Innen
            heading_style: title
            icon: mdi:sprout
          - type: custom:mini-graph-card
            name: VPD-Wert Verlauf (48h)
            entities:
              - entity: sensor.zeltsensor_vpd_dummy
                name: IST
            hours_to_show: 48
            points_per_hour: 2
            color_thresholds:
              - value: 0.4
                color: '#2f6fa3'
              - value: 0.8
                color: '#22ab9c'
              - value: 1.2
                color: '#00cd00'
              - value: 1.5
                color: '#e7c12b'
              - value: 1.8
                color: '#ce4234'
              - value: 2.2
                color: '#8b1e14'
            align_state: center
            unit: VPD
          - type: custom:ha-vpd-chart
            vpd_phases:
              - upper: 0
                className: gray-danger-zone
                color: '#999999'
              - lower: 0
                upper: 0.4
                className: under-transpiration
                color: '#1a6c9c'
              - lower: 0.4
                upper: 0.8
                className: early-veg
                color: '#22ab9c'
              - lower: 0.8
                upper: 1.2
                className: late-veg
                color: '#9cc55b'
              - lower: 1.2
                upper: 1.6
                className: mid-late-flower
                color: '#e7c12b'
              - lower: 1.6
                className: danger-zone
                color: '#ce4234'
            rooms:
              - humidity: sensor.zeltsensor_relative_luftfeuchte
                name: Grow 1
                temperature: sensor.zeltsensor_bmp280_temperatur
            is_bar_view: false
            min_temperature: 5
            max_temperature: 35
            min_humidity: 10
            max_humidity: 90
            min_height: 200
            leaf_temperature_offset: 2
            enable_tooltip: false
            air_text: Air
            leaf_text: Leaf
            rh_text: RH
            kpa_text: kPa
            enable_axes: true
            enable_ghostclick: true
            enable_ghostmap: true
            enable_triangle: false
            enable_crosshair: true
            enable_zoom: true
            enable_show_always_informations: true
            enable_legend: false
            ghostmap_hours: 24
            antialiasing: 5
            unit_temperature: °C
          - type: tile
            entity: sensor.zeltsensor_bmp280_temperatur
          - type: tile
            entity: sensor.zeltsensor_bmp280_luftdruck
          - graph: line
            type: sensor
            entity: sensor.zeltsensor_bmp280_temperatur
            grid_options:
              columns: full
            detail: 1
            limits: {}
          - graph: line
            type: sensor
            entity: sensor.zeltsensor_bmp280_luftdruck
            grid_options:
              columns: full
            detail: 1
          - graph: line
            type: sensor
            entity: sensor.zeltsensor_relative_luftfeuchte
            grid_options:
              columns: full
            detail: 1
            name: 'RLF:'
          - type: custom:mini-graph-card
            name: 'PH-SOLL UND PH-IST:'
            entities:
              - entity: sensor.zeltsensor_
                name: VPD-IST
              - entity: input_number.vpd_soll
                name: VPD-SOLL
          - graph: line
            type: sensor
            entity: sensor.zeltsensor_co2
            detail: 1
            name: CO2-Verlauf (24h)
            grid_options:
              columns: 12
              rows: 2
            icon: mdi:molecule-co2
            hours_to_show: 24
      - type: grid
        cards:
          - type: heading
            heading: Co2-Sensordaten
            heading_style: title
            icon: mdi:molecule-co2
          - type: custom:mini-graph-card
            name: CO2-Verlauf
            entities:
              - entity: sensor.zeltsensor_co2
                name: IST
            hours_to_show: 12
            points_per_hour: 30
            color_thresholds:
              - value: 380
                color: '#2f6fa3'
              - value: 600
                color: '#4fa3b6'
              - value: 800
                color: '#22ab9c'
              - value: 1000
                color: '#00cd00'
              - value: 1200
                color: '#19b57c'
              - value: 1400
                color: '#e7c12b'
              - value: 1600
                color: '#f29f05'
              - value: 1800
                color: '#ce4234'
              - value: 2200
                color: '#8b1e14'
            show:
              labels: true
            icon: mdi:molecule-co2
          - show_name: true
            show_icon: false
            type: button
            entity: switch.zeltsensor_co2_offset_aktiv
            grid_options:
              rows: 1
              columns: full
            name: Co2-Offset aktivieren
            icon: mdi:molecule-co2
            show_state: true
          - type: custom:mushroom-number-card
            entity: number.zeltsensor_co2_offset
            icon_color: blue-grey
            icon: mdi:molecule-co2
            name: Co2- Offsetwert
            layout: horizontal
            display_mode: buttons
            visibility:
              - condition: state
                entity: switch.zeltsensor_co2_offset_aktiv
                state: 'on'
          - type: entities
            entities:
              - entity: sensor.zeltsensor_co2_wert_roh
                name: Co2-Wert unkalibriert
                icon: mdi:molecule-co2
              - entity: sensor.zeltsensor_co2
                name: Co2-Wert  Sensor (Wirk)
                icon: mdi:molecule-co2
              - entity: sensor.zeltsensor_co2_wert_kalibriert
                name: 'Co2-Wert kalibriert '
                icon: mdi:molecule-co2
            visibility:
              - condition: state
                entity: switch.zeltsensor_co2_offset_aktiv
                state: 'on'
          - type: custom:timer-bar-card
            entities: sensor.zeltsensor
            bar_direction: rtl
            invert: true
          - type: custom:fluid-level-background-card
      - type: grid
        cards:
          - type: heading
            heading: Co2-Dosierung
            heading_style: title
            icon: mdi:molecule-co2
          - show_name: true
            show_icon: false
            type: button
            entity: switch.zeltsensor_co2_automatik
            grid_options:
              rows: 1
              columns: full
            name: Co2-Dosierung aktivieren
            icon: mdi:molecule-co2
            show_state: true
          - type: custom:mushroom-number-card
            entity: number.zeltsensor_co2_sollwert
            icon_color: blue-grey
            icon: mdi:molecule-co2
            name: Co2 Sollwert
            layout: horizontal
            display_mode: buttons
            visibility:
              - condition: state
                entity: switch.zeltsensor_co2_automatik
                state: 'on'
          - type: custom:mushroom-number-card
            entity: number.zeltsensor_co2_dosierstossdauer
            icon_color: blue-grey
            icon: mdi:molecule-co2
            name: Dosierstoßdauer
            layout: horizontal
            display_mode: buttons
            visibility:
              - condition: state
                entity: switch.zeltsensor_co2_automatik
                state: 'on'
          - type: custom:mushroom-number-card
            entity: number.zeltsensor_co2_hysterese
            icon_color: blue-grey
            icon: mdi:molecule-co2
            name: Co2 Hysterese (+/-)
            layout: horizontal
            display_mode: buttons
            visibility:
              - condition: state
                entity: switch.zeltsensor_co2_automatik
                state: 'on'
          - type: tile
            visibility:
              - condition: state
                entity: switch.zeltsensor_co2_automatik
                state: 'on'
            entity: switch.zeltsensor_co2_dosierung
            name: Co2-Ventil
            icon: mdi:molecule-co2
            show_entity_picture: false
            vertical: true
            features_position: bottom
            grid_options:
              columns: 3
              rows: 2
          - type: tile
            grid_options:
              columns: 3
              rows: 2
            entity: sensor.zeltsensor_co2_differenz_sollwert
            name: Co2-Differenz
            icon: mdi:alert-decagram-outline
            vertical: true
            features_position: bottom
            visibility:
              - condition: state
                entity: switch.zeltsensor_co2_automatik
                state: 'on'
          - type: tile
            grid_options:
              columns: 6
              rows: 1
            visibility:
              - condition: state
                entity: switch.zeltsensor_co2_automatik
                state: 'on'
            entity: sensor.zeltsensor_co2_debug_letzte_dosierung
            name: 'Letze Dosierung:'
            icon: ''
            show_entity_picture: false
            vertical: false
            features_position: bottom
          - type: tile
            entity: sensor.zeltsensor_co2_dosierung_version
            name: 'Co2-Dosierung Version:'
            icon: mdi:diversify
            vertical: false
            features_position: bottom
          - type: tile
            entity: sensor.zeltsensor_co2_differenz_sollwert
            name: Co2-Differenz (zu SOLL)
            icon: mdi:alert-decagram-outline
            vertical: false
            features_position: bottom
            visibility:
              - condition: state
                entity: switch.zeltsensor_co2_automatik
                state: 'off'
    badges:
      - type: entity
        show_name: true
        show_state: true
        show_icon: true
        entity: sensor.zeltsensor_zeltsensor_version
        name: 'ZELT:'
      - type: entity
        show_name: false
        show_state: true
        show_icon: true
        entity: sensor.zeltsensor_bmp280_temperatur
      - type: entity
        entity: sensor.zeltsensor_relative_luftfeuchte
      - type: entity
        entity: sensor.zeltsensor_co2
      - type: entity
        show_name: false
        show_state: true
        show_icon: false
        entity: sensor.zeltsensor_bmp280_luftdruck
      - type: entity
        show_name: true
        show_state: true
        show_icon: false
        entity: sensor.vpd_ist
        name: 'VPD:'
        show_entity_picture: false
      - type: entity
        show_name: false
        show_state: true
        show_icon: true
        entity: binary_sensor.zeltsensor_esp_status
        color: green
      - type: entity
        entity: sensor.zeltsensor_zeltlampe_modus
      - type: entity
        entity: sensor.zeltsensor_zeltlampe_helligkeit
      - type: entity
        show_name: true
        show_state: true
        show_icon: true
        entity: sensor.zeltsensor_co2_dosierung_version
        name: 'Co2:'
        icon: mdi:diversify
    cards: []
  - type: sections
    max_columns: 4
    title: VPD-Regelung
    path: vpd-regelung
    sections:
      - type: grid
        cards:
          - type: heading
            heading: Sensorwerte für VPD
            heading_style: title
          - type: custom:ha-vpd-chart
            vpd_phases:
              - upper: 0
                className: gray-danger-zone
                color: '#999999'
              - lower: 0
                upper: 0.4
                className: under-transpiration
                color: '#1a6c9c'
              - lower: 0.4
                upper: 0.8
                className: early-veg
                color: '#22ab9c'
              - lower: 0.8
                upper: 1.2
                className: late-veg
                color: '#9cc55b'
              - lower: 1.2
                upper: 1.6
                className: mid-late-flower
                color: '#e7c12b'
              - lower: 1.6
                className: danger-zone
                color: '#ce4234'
            rooms:
              - humidity: sensor.zeltsensor_relative_luftfeuchte
                name: Grow 1
                temperature: sensor.zeltsensor_bmp280_temperatur
            is_bar_view: false
            min_temperature: 5
            max_temperature: 35
            min_humidity: 10
            max_humidity: 90
            min_height: 200
            leaf_temperature_offset: 2
            enable_tooltip: false
            air_text: Luft
            leaf_text: Blatt
            rh_text: RLF
            kpa_text: kPa
            enable_axes: true
            enable_ghostclick: true
            enable_ghostmap: true
            enable_triangle: false
            enable_crosshair: true
            enable_zoom: true
            enable_show_always_informations: true
            enable_legend: false
            ghostmap_hours: 24
            antialiasing: 5
            unit_temperature: °C
          - type: custom:mini-graph-card
            name: VPD-Wert Verlauf (48h)
            entities:
              - entity: sensor.vpd_ist
                name: IST
                icon: gauge
            hours_to_show: 24
            points_per_hour: 6
            color_thresholds:
              - value: 0.4
                color: '#2f6fa3'
              - value: 0.8
                color: '#22ab9c'
              - value: 1.2
                color: '#00cd00'
              - value: 1.5
                color: '#e7c12b'
              - value: 1.8
                color: '#ce4234'
              - value: 2.2
                color: '#8b1e14'
          - graph: line
            type: sensor
            entity: sensor.zeltsensor_bmp280_temperatur
            grid_options:
              columns: full
            detail: 1
            limits: {}
            hours_to_show: 48
            name: Zelt-Innentemperatur (48h)
          - graph: line
            type: sensor
            entity: sensor.zeltsensor_relative_luftfeuchte
            grid_options:
              columns: full
            detail: 1
            limits: {}
            hours_to_show: 48
            name: Zelt-Luftfeuchtigkeit (48h)
          - type: custom:mini-graph-card
            name: Luftdruck (72h)
            entities:
              - entity: sensor.zeltsensor_bmp280_luftdruck
                name: IST
                icon: gauge
            hours_to_show: 72
            points_per_hour: 10
            color_thresholds:
              - value: 995
                color: '#5c6bc0'
              - value: 1000
                color: '#42a5f5'
              - value: 1005
                color: '#4dd0e1'
              - value: 1010
                color: '#66bb6a'
              - value: 1015
                color: '#43a047'
              - value: 1020
                color: '#c0ca33'
              - value: 1025
                color: '#fbc02d'
              - value: 1030
                color: '#f57c00'
      - type: grid
        cards:
          - type: heading
            icon: mdi:fridge
            heading: VPD Regelung
            heading_style: title
            grid_options:
              columns: 6
              rows: 1
          - show_name: true
            show_icon: false
            type: button
            entity: switch.zeltsensor_vpd_automatik
            grid_options:
              columns: 12
              rows: 1
            name: VPD Reglegung aktivieren
            show_state: true
          - type: custom:mushroom-number-card
            entity: number.zeltsensor_vpd_sollwert
            name: VPD SOLL
            layout: horizontal
            icon_color: light-blue
            visibility:
              - condition: state
                entity: switch.zeltsensor_vpd_automatik
                state: 'on'
          - type: custom:mushroom-number-card
            entity: number.zeltsensor_vpd_hysterese
            name: VPD Hysterese
            layout: horizontal
            icon_color: light-blue
            visibility:
              - condition: state
                entity: switch.zeltsensor_vpd_automatik
                state: 'on'
          - type: custom:mushroom-number-card
            entity: number.zeltsensor_inline_fan_standby
            name: Inline Fan Standby
            layout: horizontal
            icon_color: light-blue
            visibility:
              - condition: state
                entity: switch.zeltsensor_vpd_automatik
                state: 'on'
          - type: tile
            grid_options:
              rows: 1
              columns: 15
            visibility:
              - condition: state
                entity: switch.zeltsensor_vpd_automatik
                state: 'on'
            entity: sensor.zeltsensor_vpd_auto_debug_1
            name: 'VPD Debug:'
            icon: mdi:fan
            vertical: false
            features_position: bottom
          - type: tile
            grid_options:
              rows: 1
              columns: full
            visibility:
              - condition: state
                entity: switch.zeltsensor_vpd_automatik
                state: 'on'
            entity: sensor.zeltsensor_vpd_auto_debug_2
            name: 'VPD Debug:'
            icon: mdi:fan
            vertical: false
            features_position: bottom
          - type: tile
            visibility:
              - condition: state
                entity: switch.zeltsensor_vpd_automatik
                state: 'on'
            entity: sensor.zeltsensor_inline_fan_ziel
            name: 'Inline Fan Ziel: '
            icon: mdi:fan
            vertical: false
            features_position: bottom
          - type: custom:mini-graph-card
            name: Lüfterdrehzahl Automatik
            entities:
              - entity: sensor.zeltsensor_inline_fan_ziel
                icon: gauge
            hours_to_show: 72
            points_per_hour: 8
            color_thresholds:
              - value: 995
                color: '#5c6bc0'
              - value: 1000
                color: '#42a5f5'
              - value: 1005
                color: '#4dd0e1'
              - value: 1010
                color: '#66bb6a'
              - value: 1015
                color: '#43a047'
              - value: 1020
                color: '#c0ca33'
              - value: 1025
                color: '#fbc02d'
              - value: 1030
                color: '#f57c00'
            visibility:
              - condition: state
                entity: switch.zeltsensor_vpd_automatik
                state: 'on'
          - type: entities
            entities:
              - entity: sensor.zeltsensor_vpd_auto_debug_1
              - entity: sensor.zeltsensor_vpd_auto_debug_2
              - entity: sensor.backup_letztes_erfolgreiches_automatisches_backup
              - entity: sensor.zeltsensor_vpd_auto_debug_3
            grid_options:
              columns: full
            visibility:
              - condition: state
                entity: switch.zeltsensor_vpd_automatik
                state: 'on'
    dense_section_placement: true
    cards: []
    badges:
      - type: entity
        show_name: true
        show_state: true
        show_icon: true
        entity: sensor.zeltsensor_zeltsensor_version
        name: 'ZELT:'
      - type: entity
        show_name: true
        show_state: true
        show_icon: true
        entity: sensor.zeltsensor_vpd_automatik_version
        name: 'VPD:'
  - type: sections
    max_columns: 4
    title: EC-Regelung
    path: ec-regelung
    sections:
      - type: grid
        cards:
          - type: heading
            heading: Systemübersicht  RDWC
            heading_style: title
          - type: custom:mini-graph-card
            name: Wassertemperatur
            entities:
              - entity: sensor.hydroknoten_hydroknoten_temperatur
                name: Istwert
            color_thresholds:
              - value: 14
                color: '#2f6fa3'
              - value: 16
                color: '#4fa3b6'
              - value: 18
                color: '#22ab9c'
              - value: 19
                color: '#00cd00'
              - value: 21
                color: '#19b57c'
              - value: 22.5
                color: '#e7c12b'
              - value: 24
                color: '#ce4234'
              - value: 26
                color: '#8b1e14'
            hours_to_show: 2
            points_per_hour: 12
            show:
              labels: true
          - type: custom:mini-graph-card
            name: EC-Wert Verlauf
            entities:
              - entity: sensor.hydroknoten_hydroknoten_ec_sensor
                name: Istwert
            color_thresholds:
              - value: 0.6
                color: '#2f6fa3'
              - value: 1
                color: '#4fa3b6'
              - value: 1.4
                color: '#22ab9c'
              - value: 1.8
                color: '#00cd00'
              - value: 2.2
                color: '#19b57c'
              - value: 2.4
                color: '#e7c12b'
              - value: 2.5
                color: '#ce4234'
              - value: 2.6
                color: '#8b1e14'
            hours_to_show: 2
            points_per_hour: 12
            show:
              labels: true
          - type: custom:mini-graph-card
            name: PH-Wert Verlauf
            entities:
              - entity: sensor.hydroknoten_hydroknoten_ph_sensor
                name: PH-IST
            hours_to_show: 2
            points_per_hour: 8
            show:
              labels: true
            color_thresholds:
              - value: 5.3
                color: '#2f6fa3'
              - value: 5.6
                color: '#22ab9c'
              - value: 6
                color: '#00cd00'
              - value: 6.3
                color: '#e7c12b'
              - value: 6.6
                color: '#ce4234'
              - value: 7
                color: '#8b1e14'
      - type: grid
        cards:
          - type: heading
            heading: EC-Düngerdosierung V_0.1
            heading_style: title
          - type: custom:mini-graph-card
            name: Düngerdosierung
            entities:
              - entity: sensor.dosierung_micro_ml_heute
                name: Micro
                color: purple
              - entity: sensor.dosierung_grow_ml_heute
                name: Grow
                color: green
              - entity: sensor.dosierung_bloom_ml_heute
                name: Bloom
            hours_to_show: 2
            points_per_hour: 4
            show:
              labels: true
          - type: entities
            entities:
              - entity: sensor.dosierung_dosierung_pumpen_status
              - entity: sensor.dosierung_dosierung_status_zusammenfassung
              - entity: sensor.dosierung_ph_dosierung_blockgrund
              - entity: sensor.dosierung_durchmischung_fortschritt
              - entity: sensor.dosierung_dosierung_aktive_dosierung
              - entity: sensor.dosierung_ec_ist_empfangen
              - entity: sensor.dosierung_ph_ist_empfangen
          - type: custom:timer-bar-card
            entities:
              - sensor.dosierung_dosierung_wartezeit_s
            bar_height: 20px
            bar_background: '#222'
            bar_foreground: >-
              linear-gradient(to right, red, orange, yellow, green, cyan, blue,
              violet)
            text_width: 6em
            bar_width: 40%
      - type: grid
        cards:
          - type: heading
            heading: EC-Düngerdosierung V_0.1
            heading_style: title
          - type: heading
            icon: mdi:fridge
            heading: 'Systemweite Einstellungen:'
            heading_style: subtitle
          - type: custom:mushroom-number-card
            entity: number.dosierung_system_volumen_gesamt
            layout: horizontal
            icon_color: light-blue
            icon: mdi:cup-water
            name: Systemvolumen
          - type: custom:mushroom-number-card
            entity: number.dosierung_ruhrmotor_dauer_sekunden
            layout: horizontal
            icon_color: light-blue
            icon: mdi:timeline-clock
            name: Dauer Rührvorgang
          - type: custom:mushroom-number-card
            entity: number.dosierung_min_ruhrzeit_zwischen_dosierungen
            layout: horizontal
            icon_color: light-blue
            icon: mdi:timeline-clock
            name: Rührzeit zw. Dosierungen
          - type: heading
            icon: mdi:fridge
            heading: Düngerdosierung V0.1
            heading_style: subtitle
          - show_name: true
            show_icon: false
            type: button
            entity: switch.dosierung_dosierung_automatik
            grid_options:
              columns: full
              rows: 1
            theme: Mushroom
            name: Düngerdosierung aktivieren
            show_state: true
          - type: tile
            entity: sensor.dosierung_dosierung_pumpen_status
            vertical: false
            features_position: bottom
            grid_options:
              columns: full
            visibility:
              - condition: state
                entity: switch.dosierung_dosierung_automatik
                state: 'on'
          - type: tile
            grid_options:
              columns: full
              rows: 1
            entity: sensor.dosierung_dosierung_status_zusammenfassung
            vertical: false
            features_position: bottom
            visibility:
              - condition: state
                entity: switch.dosierung_dosierung_automatik
                state: 'on'
          - type: custom:mushroom-number-card
            entity: number.dosierung_ec_zielwert
            icon_color: purple
            name: EC Zielwert
            layout: horizontal
            icon: mdi:atom
            visibility:
              - condition: state
                entity: switch.dosierung_dosierung_automatik
                state: 'on'
          - type: custom:mushroom-number-card
            entity: number.dosierung_ec_toleranzbereich_ms_cm
            icon_color: purple
            name: EC Toleranzbereich
            layout: horizontal
            visibility:
              - condition: state
                entity: switch.dosierung_dosierung_automatik
                state: 'on'
          - type: custom:mushroom-number-card
            entity: number.dosierung_dosiervolumen_ec_pumpe_ml_min
            icon_color: purple
            name: Pumpenleistung ???
            layout: horizontal
            visibility:
              - condition: state
                entity: switch.dosierung_dosierung_automatik
                state: 'on'
          - show_name: true
            show_icon: false
            type: button
            entity: button.dosierung_reset_tages_counter
            grid_options:
              columns: 6
              rows: 1
            name: Reset Tageszähler
            theme: Mushroom
            visibility:
              - condition: state
                entity: switch.dosierung_dosierung_automatik
                state: 'on'
          - show_name: true
            show_icon: false
            type: button
            entity: button.dosierung_reset_lifetime_counter
            grid_options:
              columns: 6
              rows: 1
            name: Reset Lifetimezähler
            visibility:
              - condition: state
                entity: switch.dosierung_dosierung_automatik
                state: 'on'
          - show_name: true
            show_icon: false
            type: button
            entity: button.dosierung_reset_dosierzyklen
            grid_options:
              columns: 6
              rows: 1
            name: Reset Dosierzyklen
            visibility:
              - condition: state
                entity: switch.dosierung_dosierung_automatik
                state: 'on'
        column_span: 1
      - type: grid
        cards:
          - type: heading
            heading: 'Dosierung: Tera Aquatica - TriPart - Micro'
            heading_style: title
          - show_name: true
            show_icon: false
            type: button
            entity: switch.dosierung_micro_steuerung
            grid_options:
              columns: full
              rows: 1
            theme: Mushroom
            name: TA-Micro Dosierung aktivieren
          - type: entities
            entities:
              - entity: sensor.dosierung_micro_ml_heute
              - entity: binary_sensor.dosierung_micro_tageslimit_erreicht
                secondary_info: none
              - entity: sensor.dosierung_micro_dosier_zyklen
              - entity: binary_sensor.dosierung_micro_safety_limit_warning
              - entity: sensor.dosierung_micro_total_lifetime_ml
              - entity: sensor.dosierung_durchmischung_fortschritt
              - entity: sensor.dosierung_dosierung_aktive_dosierung
              - entity: sensor.dosierung_dosierung_letzte_menge
              - entity: sensor.dosierung_dosierung_nachste_menge_ml
            show_header_toggle: false
            state_color: true
            visibility:
              - condition: state
                entity: switch.dosierung_micro_steuerung
                state: 'on'
          - type: custom:mushroom-number-card
            entity: number.dosierung_micro_max_ml_tag
            icon_color: purple
            layout: horizontal
            name: D1 - Maximal pro Tag
            visibility:
              - condition: state
                entity: switch.dosierung_micro_steuerung
                state: 'on'
            icon: mdi:car-speed-limiter
          - type: custom:mushroom-number-card
            entity: number.dosierung_micro_ec_pro_ml_100l
            icon_color: purple
            name: D1 - EC pro ml/100L
            layout: horizontal
            visibility:
              - condition: state
                entity: switch.dosierung_micro_steuerung
                state: 'on'
            icon: mdi:car-speed-limiter
          - type: custom:mushroom-number-card
            entity: number.dosierung_micro_flow_rate
            icon_color: purple
            layout: horizontal
            name: D1 - Durchflussmenge
            visibility:
              - condition: state
                entity: switch.dosierung_micro_steuerung
                state: 'on'
            icon: mdi:car-speed-limiter
        column_span: 1
      - type: grid
        cards:
          - type: heading
            heading: 'Dosierung: Tera Aquatica - TriPart - Grow'
            heading_style: title
          - show_name: true
            show_icon: false
            type: button
            entity: switch.dosierung_grow_steuerung
            grid_options:
              columns: full
              rows: 1
            name: TA-Grow Dosierungen aktivieren
            theme: Mushroom
          - type: entities
            entities:
              - entity: sensor.dosierung_grow_ml_heute
              - entity: binary_sensor.dosierung_grow_tageslimit_erreicht
                secondary_info: none
              - entity: sensor.dosierung_grow_dosier_zyklen
              - entity: binary_sensor.dosierung_grow_safety_limit_warning
              - entity: sensor.dosierung_grow_total_lifetime_ml
              - entity: sensor.dosierung_durchmischung_fortschritt
              - entity: sensor.dosierung_dosierung_aktive_dosierung
            show_header_toggle: false
            state_color: true
            visibility:
              - condition: state
                entity: switch.dosierung_grow_steuerung
                state: 'on'
          - type: custom:mushroom-number-card
            entity: number.dosierung_grow_max_ml_tag
            icon_color: purple
            layout: horizontal
            name: D1 - Maximal pro Tag
            visibility:
              - condition: state
                entity: switch.dosierung_grow_steuerung
                state: 'on'
            icon: mdi:car-speed-limiter
          - type: custom:mushroom-number-card
            entity: number.dosierung_grow_ec_pro_ml_100l
            icon_color: purple
            name: D1 - EC pro ml/100L
            layout: horizontal
            visibility:
              - condition: state
                entity: switch.dosierung_grow_steuerung
                state: 'on'
            icon: mdi:car-speed-limiter
          - type: custom:mushroom-number-card
            entity: number.dosierung_grow_flow_rate
            icon_color: purple
            layout: horizontal
            name: D1 - Durchflussmenge
            visibility:
              - condition: state
                entity: switch.dosierung_grow_steuerung
                state: 'on'
            icon: mdi:car-speed-limiter
      - type: grid
        cards:
          - type: heading
            heading: 'Dosierung: Tera Aquatica - TriPart - Bloom'
            heading_style: title
          - show_name: true
            show_icon: false
            type: button
            entity: switch.dosierung_bloom_steuerung
            grid_options:
              columns: full
              rows: 1
            name: TA-Bloom Dosierung aktivieren
            theme: Mushroom
          - type: entities
            entities:
              - entity: sensor.dosierung_bloom_ml_heute
              - entity: binary_sensor.dosierung_bloom_tageslimit_erreicht
                secondary_info: none
              - entity: sensor.dosierung_bloom_dosier_zyklen
              - entity: binary_sensor.dosierung_bloom_safety_limit_warning
              - entity: sensor.dosierung_bloom_total_lifetime_ml
              - entity: sensor.dosierung_durchmischung_fortschritt
              - entity: sensor.dosierung_dosierung_aktive_dosierung
            show_header_toggle: false
            state_color: true
            visibility:
              - condition: state
                entity: switch.dosierung_bloom_steuerung
                state: 'on'
          - type: custom:mushroom-number-card
            entity: number.dosierung_bloom_max_ml_tag
            icon_color: purple
            layout: horizontal
            name: D1 - Maximal pro Tag
            visibility:
              - condition: state
                entity: switch.dosierung_bloom_steuerung
                state: 'on'
          - type: custom:mushroom-number-card
            entity: number.dosierung_bloom_ec_pro_ml_100l
            icon_color: purple
            name: D1 - EC pro ml/100L
            layout: horizontal
            visibility:
              - condition: state
                entity: switch.dosierung_bloom_steuerung
                state: 'on'
          - type: custom:mushroom-number-card
            entity: number.dosierung_bloom_flow_rate
            icon_color: purple
            layout: horizontal
            name: D1 - Durchflussmenge
            visibility:
              - condition: state
                entity: switch.dosierung_bloom_steuerung
                state: 'on'
    badges:
      - type: entity
        show_name: false
        show_state: true
        show_icon: true
        entity: binary_sensor.dosierung_status_verbunden
      - type: entity
        show_name: true
        show_state: true
        show_icon: true
        entity: sensor.hydroknoten_hydroknoten_version
        name: 'Hydro: '
        icon: mdi:paperclip
      - type: entity
        show_name: true
        show_state: true
        show_icon: true
        entity: sensor.ventilknoten_projekt_version
        icon: mdi:paperclip
        name: Dosier-Knoten
      - type: entity
        show_name: false
        show_state: true
        show_icon: true
        entity: sensor.dosierung_dosierung_status_zusammenfassung
      - type: entity
        show_name: false
        show_state: true
        show_icon: true
        entity: sensor.dosierung_debug_ec_status
      - type: entity
        show_name: false
        show_state: true
        show_icon: true
        entity: sensor.dosierung_debug_dosierung_gesamtstatus
    header:
      layout: responsive
      badges_position: top
      badges_wrap: scroll
  - type: sections
    max_columns: 4
    title: PH-Regelung
    path: ph-regelung
    sections:
      - type: grid
        cards:
          - type: heading
            icon: mdi:ph
            heading: RDWC-System - PH Sensorwerte
            heading_style: subtitle
          - type: custom:mini-graph-card
            name: PH-Dosierungsteuerung
            entities:
              - entity: sensor.hydroknoten_hydroknoten_ph_sensor
                name: PH-IST
                y_axis: secondary
              - entity: sensor.dosierung_ph_down_ml_heute
                name: ml heute
                color: green
              - entity: number.dosierung_ph_zielwert
                name: PH-SOLL
                color: purple
            hours_to_show: 2
            points_per_hour: 8
            show:
              labels: true
          - type: custom:mini-graph-card
            name: 'PH-Down Dosierungen:'
            entities:
              - entity: sensor.dosierung_ph_down_ml_heute
                name: Micro
                color: purple
            hours_to_show: 6
            points_per_hour: 4
            show:
              labels: true
          - type: custom:mini-graph-card
            name: PH-Wert Verlauf
            entities:
              - entity: sensor.hydroknoten_hydroknoten_ph_sensor
                name: PH-IST
            hours_to_show: 2
            points_per_hour: 8
            show:
              labels: true
            color_thresholds:
              - value: 5.3
                color: '#2f6fa3'
              - value: 5.6
                color: '#22ab9c'
              - value: 6
                color: '#00cd00'
              - value: 6.3
                color: '#e7c12b'
              - value: 6.6
                color: '#ce4234'
              - value: 7
                color: '#8b1e14'
        column_span: 1
      - type: grid
        cards:
          - type: heading
            icon: mdi:ph
            heading: RDWC-System - PH-Dosierungssteuerung
            heading_style: subtitle
          - show_name: true
            show_icon: false
            type: button
            entity: switch.dosierung_ph_down_steuerung
            grid_options:
              rows: 1
              columns: full
          - type: custom:mushroom-number-card
            entity: number.dosierung_ph_zielwert
            icon_color: blue-grey
            icon: mdi:atom
            name: pH SOLLWERT
            layout: horizontal
            display_mode: buttons
            visibility:
              - condition: state
                entity: switch.dosierung_ph_down_steuerung
                state: 'on'
          - type: custom:mushroom-number-card
            entity: number.dosierung_ph_down_max_ml_tag
            layout: horizontal
            icon_color: blue-grey
            visibility:
              - condition: state
                entity: switch.dosierung_ph_down_steuerung
                state: 'on'
          - type: custom:mushroom-number-card
            entity: number.dosierung_ph_down_anderung_pro_ml_100l
            layout: horizontal
            icon_color: blue-grey
            visibility:
              - condition: state
                entity: switch.dosierung_ph_down_steuerung
                state: 'on'
          - type: custom:mushroom-number-card
            entity: number.dosierung_ph_down_ec_pro_ml_100l
            layout: horizontal
            icon_color: blue-grey
            visibility:
              - condition: state
                entity: switch.dosierung_ph_down_steuerung
                state: 'on'
          - type: custom:mushroom-number-card
            entity: number.dosierung_ph_down_ec_pro_ml_100l
            layout: horizontal
            icon_color: blue-grey
            visibility:
              - condition: state
                entity: switch.dosierung_ph_down_steuerung
                state: 'on'
          - type: tile
            entity: sensor.dosierung_ph_regelung_version
            name: 'PH-Dosierung-Version:'
            icon: mdi:diversify
            vertical: false
            features_position: bottom
      - type: grid
        cards:
          - type: heading
            icon: mdi:molecule-co2
            heading: Zelt - Co2-Dosierungssteuerung
            heading_style: subtitle
          - type: custom:mini-graph-card
            name: CO2-Verlauf SOLL/IST
            entities:
              - entity: sensor.zeltsensor_co2_dummy
                name: IST
            hours_to_show: 12
            points_per_hour: 4
            color_thresholds:
              - value: 380
                color: '#2f6fa3'
              - value: 600
                color: '#4fa3b6'
              - value: 800
                color: '#22ab9c'
              - value: 1000
                color: '#00cd00'
              - value: 1200
                color: '#19b57c'
              - value: 1400
                color: '#e7c12b'
              - value: 1600
                color: '#f29f05'
              - value: 1800
                color: '#ce4234'
              - value: 2200
                color: '#8b1e14'
        column_span: 1
    badges:
      - type: entity
        show_name: false
        show_state: true
        show_icon: true
        entity: binary_sensor.dosierung_status_verbunden
      - type: entity
        show_name: true
        show_state: true
        show_icon: true
        entity: sensor.ventilknoten_projekt_version
        icon: mdi:paperclip
        name: 'Dosierung:'
      - type: entity
        show_name: true
        show_state: true
        show_icon: true
        entity: sensor.hydroknoten_hydroknoten_version
        name: 'Hydro:'
        icon: mdi:paperclip
      - type: entity
        show_name: false
        show_state: true
        show_icon: true
        entity: sensor.dosierung_debug_ph_status
      - type: entity
        show_name: false
        show_state: true
        show_icon: true
        entity: sensor.dosierung_debug_dosierung_gesamtstatus
    header:
      layout: center
      badges_position: top
      badges_wrap: scroll
  - type: sections
    max_columns: 4
    title: RDWC-System
    path: wassertank
    sections:
      - type: grid
        cards:
          - type: heading
            heading: Systemeinstellungen (Systemweit)
            heading_style: title
          - type: custom:mini-graph-card
            name: RDWC-System
            entities:
              - entity: sensor.hydroknoten_hydroknoten_temperatur
                name: Istwert
            color_thresholds:
              - value: 14
                color: '#2f6fa3'
              - value: 16
                color: '#4fa3b6'
              - value: 18
                color: '#22ab9c'
              - value: 19
                color: '#00cd00'
              - value: 21
                color: '#19b57c'
              - value: 22.5
                color: '#e7c12b'
              - value: 24
                color: '#ce4234'
              - value: 26
                color: '#8b1e14'
            hours_to_show: 2
            points_per_hour: 12
            show:
              labels: true
          - type: heading
            icon: mdi:fridge
            heading: 'Für EC- und PH-Dosierungen: '
            heading_style: subtitle
          - type: custom:mushroom-number-card
            entity: number.dosierung_system_volumen_gesamt
            layout: horizontal
            icon_color: light-blue
            icon: mdi:cup-water
            name: Systemvolumen
          - type: custom:mushroom-number-card
            entity: number.dosierung_ruhrmotor_pwm_speed
            layout: horizontal
            icon_color: light-blue
            name: Pumpenleistung
            icon: mdi:water-pump
          - graph: line
            type: sensor
            entity: sensor.zeltsensor_ds18b20_dummy
            grid_options:
              columns: full
            detail: 1
            name: RDWC (Zelt Innen)
            icon: mdi:temperature-celsius
            hours_to_show: 12
          - graph: line
            type: sensor
            entity: sensor.zeltsensor_ds18b20_dummy
            grid_options:
              columns: full
            detail: 1
            name: RDWC (Systemtank)
            icon: mdi:temperature-celsius
            hours_to_show: 12
      - type: grid
        cards:
          - type: heading
            heading: RDWC-System Einstellungen (Hydroknoten)
            heading_style: title
          - type: custom:mini-graph-card
            name: RWDC System Volumen
            entities:
              - entity: sensor.tankknoten_rdwc_fuellstand
                name: Istwert
            color_thresholds:
              - value: 0
                color: '#8b1e14'
              - value: 10
                color: '#ce4234'
              - value: 20
                color: '#e7c12b'
              - value: 30
                color: '#19b57c'
              - value: 45
                color: '#00cd00'
              - value: 60
                color: '#22ab9c'
              - value: 70
                color: '#4fa3b6'
              - value: 80
                color: '#2f6fa3'
            hours_to_show: 1
            points_per_hour: 24
            show:
              labels: true
          - type: custom:mini-graph-card
            name: RDWC-System EC
            entities:
              - entity: sensor.hydroknoten_hydroknoten_ec_sensor
                name: Istwert
            color_thresholds:
              - value: 0.6
                color: '#2f6fa3'
              - value: 1
                color: '#4fa3b6'
              - value: 1.4
                color: '#22ab9c'
              - value: 1.8
                color: '#00cd00'
              - value: 2.2
                color: '#19b57c'
              - value: 2.4
                color: '#e7c12b'
              - value: 2.5
                color: '#ce4234'
              - value: 2.6
                color: '#8b1e14'
            hours_to_show: 2
            points_per_hour: 12
            show:
              labels: true
          - type: custom:mini-graph-card
            name: RDWC-System pH
            entities:
              - entity: sensor.hydroknoten_hydroknoten_ph_sensor
                name: PH-IST
            hours_to_show: 2
            points_per_hour: 8
            show:
              labels: true
            color_thresholds:
              - value: 5.3
                color: '#2f6fa3'
              - value: 5.6
                color: '#22ab9c'
              - value: 6
                color: '#00cd00'
              - value: 6.3
                color: '#e7c12b'
              - value: 6.6
                color: '#ce4234'
              - value: 7
                color: '#8b1e14'
          - type: custom:mushroom-number-card
            entity: number.tankknoten_rdwc_volumen
            layout: horizontal
            icon_color: light-blue
            icon: mdi:cup-water
            name: RDWC Systemvolumen
            display_mode: buttons
          - type: custom:mushroom-number-card
            entity: number.hydroknoten_hydroknoten_temperatur_offset
            layout: horizontal
            icon_color: light-blue
            icon: mdi:coolant-temperature
            name: 'RDWC Temp Offset '
            display_mode: buttons
          - show_name: true
            show_icon: false
            type: button
            entity: switch.hydroknoten_ec_temperaturkompensation
            grid_options:
              rows: 1
              columns: full
            name: RDWC  /  EC-Kompensation
            show_state: true
          - type: entities
            entities:
              - entity: sensor.hydroknoten_hydroknoten_ec_unkalibriert
                name: Hydrokonten EC  unkalibiert
              - entity: sensor.hydroknoten_hydroknoten_ec_sensor
                name: Hydrokonten EC  Sensor
              - entity: sensor.hydroknoten_hydroknoten_ec_kompensiert
                name: Hydrokonten EC  kompensiert
                secondary_info: none
              - entity: sensor.hydroknoten_hydroknoten_temperatur
                name: Hydroknoten Wassertemperatur
                icon: mdi:coolant-temperature
            visibility:
              - condition: state
                entity: switch.hydroknoten_ec_temperaturkompensation
                state: 'on'
      - type: grid
        cards:
          - type: heading
            heading: Wasserreservoir Einstellungen (Tankknoten)
            heading_style: title
          - type: custom:mini-graph-card
            name: Haupttank Volumen
            entities:
              - entity: sensor.tankknoten_haupttank_fuellstand
                name: Istwert
            color_thresholds:
              - value: 0
                color: '#8b1e14'
              - value: 15
                color: '#ce4234'
              - value: 40
                color: '#e7c12b'
              - value: 80
                color: '#19b57c'
              - value: 120
                color: '#00cd00'
              - value: 160
                color: '#22ab9c'
              - value: 200
                color: '#4fa3b6'
              - value: 300
                color: '#2f6fa3'
            hours_to_show: 1
            points_per_hour: 24
            show:
              labels: true
          - type: custom:mini-graph-card
            name: Haupttank EC
            entities:
              - entity: sensor.tankknoten_tankknoten_ec
                name: Istwert
            color_thresholds:
              - value: 0.6
                color: '#2f6fa3'
              - value: 1
                color: '#4fa3b6'
              - value: 1.4
                color: '#22ab9c'
              - value: 1.8
                color: '#00cd00'
              - value: 2.2
                color: '#19b57c'
              - value: 2.4
                color: '#e7c12b'
              - value: 2.5
                color: '#ce4234'
              - value: 2.6
                color: '#8b1e14'
            hours_to_show: 2
            points_per_hour: 12
            show:
              labels: true
          - type: custom:mini-graph-card
            name: Haupttank pH
            entities:
              - entity: sensor.tankknoten_tankknoten_ph
                name: PH-IST
            hours_to_show: 2
            points_per_hour: 8
            show:
              labels: true
            color_thresholds:
              - value: 5.3
                color: '#2f6fa3'
              - value: 5.6
                color: '#22ab9c'
              - value: 6
                color: '#00cd00'
              - value: 6.3
                color: '#e7c12b'
              - value: 6.6
                color: '#ce4234'
              - value: 7
                color: '#8b1e14'
          - type: custom:mushroom-number-card
            entity: number.tankknoten_haupttank_volumen
            layout: horizontal
            name: Haupttank Volumen
            display_mode: buttons
            icon: mdi:cup-water
          - type: custom:mushroom-number-card
            entity: number.tankknoten_tanktemperatur_offset
            layout: horizontal
            icon_color: light-blue
            icon: mdi:coolant-temperature
            name: 'Temp Offset '
            display_mode: buttons
          - show_name: true
            show_icon: false
            type: button
            entity: switch.tankknoten_ec_temperaturkompensation
            grid_options:
              rows: 1
              columns: full
            name: Wasserrtank /  EC-Kompensation
            show_state: true
          - type: entities
            entities:
              - entity: sensor.tankknoten_tankknoten_ec_roh
                name: Tankknoten EC unkalibriert
              - entity: sensor.tankknoten_tankknoten_ec
                name: Tankknoten EC Sensor
              - entity: sensor.tankknoten_tankknoten_ec_kompensiert
                name: Tankknoten EC kompensiert
              - entity: sensor.tankknoten_tankknoten_wassertemperatur
                name: Tankknoten Wassertemperatur
                icon: mdi:coolant-temperature
            visibility:
              - condition: state
                entity: switch.tankknoten_ec_temperaturkompensation
                state: 'on'
      - type: grid
        cards:
          - type: heading
            heading: Tankknoten
          - type: entities
            entities:
              - entity: sensor.tankknoten_haupttank_zuletzt_voll
                secondary_info: state
                name: Haupttank zuletzt voll
              - entity: sensor.tankknoten_haupttank_zuletzt_leer
                secondary_info: state
                name: Haupttank zuletzt leer
              - entity: sensor.tankknoten_rdwc_zuletzt_voll
                secondary_info: state
                name: RDWC zuletzt voll
              - entity: sensor.tankknoten_rdwc_zuletzt_leer
                secondary_info: state
                name: RDWC zuletzt leer
          - type: tile
            entity: sensor.tankknoten_tankregelung_rdwc_version
            name: 'RDWC-Befüll-Version:'
            icon: mdi:diversify
            vertical: false
            features_position: bottom
          - type: tile
            entity: sensor.tankknoten_tankregelung_haupttank_version
            name: 'Tank-Befüll-Version:'
            icon: mdi:diversify
            vertical: false
            features_position: bottom
          - type: tile
            entity: sensor.tankknoten_rdwc_automatik_version
            name: 'RDWC-Auto:'
            icon: mdi:diversify
            vertical: false
            features_position: bottom
          - type: tile
            grid_options:
              columns: 6
              rows: 1
            entity: sensor.tankknoten_rdwc_auto_zuletzt_befuellt
            name: RDWC zuletzt gefüllt
            vertical: false
            features_position: bottom
          - type: tile
            entity: sensor.tankknoten_haupttank_ventil_status
            name: 'Haupttank Ventil:'
            icon: mdi:pipe-valve
            hide_state: false
            vertical: false
            features_position: bottom
          - type: tile
            entity: binary_sensor.tankknoten_rdwc_pumpe_status
            name: 'Füllpumpe RDWC:'
            icon: mdi:water-pump
            vertical: false
            features_position: bottom
          - type: heading
            icon: mdi:fridge
            heading: 'Gesamtsystem befüllen (mit Wartezeit zur Beruhigung pH-Wert) '
            heading_style: subtitle
          - type: tile
            grid_options:
              columns: 4
              rows: 2
            entity: button.tankknoten_befuellautomatik_system
            name: System befüllen
            hide_state: true
            vertical: true
            features_position: bottom
          - type: tile
            grid_options:
              columns: 8
              rows: 1
            entity: sensor.tankknoten_befuellautomatik_system_ergebnis
            name: Rückmeldung
            vertical: false
            features_position: bottom
          - type: tile
            grid_options:
              columns: 8
              rows: 1
            entity: number.tankknoten_befuellautomatik_system_wartezeit_s
            name: Wartezeit bis RDWC-Pumpe startet
            icon: mdi:av-timer
            vertical: false
            features_position: bottom
          - type: custom:mushroom-number-card
            entity: number.tankknoten_befuellautomatik_system_wartezeit_s
            layout: horizontal
            name: Rührzeit Haupttank
            display_mode: buttons
          - type: custom:mushroom-number-card
            entity: number.tankknoten_befuellautomatik_system_ziellevel_haupttank
            layout: horizontal
            name: Max Level Haupttank
            display_mode: buttons
          - type: custom:mushroom-number-card
            entity: number.tankknoten_befuellautomatik_system_ziellevel_rdwc
            layout: horizontal
            name: Max Level RDWC
            display_mode: buttons
          - type: heading
            icon: mdi:fridge
            heading: RDWC Automatisch befüllen (bis Haupttank < Level 2)
            heading_style: subtitle
          - type: tile
            grid_options:
              columns: 4
              rows: 2
            entity: switch.tankknoten_rdwc_auto_befuellen
            name: RDWC Automatik
            hide_state: false
            vertical: true
            features_position: bottom
          - type: tile
            grid_options:
              columns: 8
              rows: 1
            entity: sensor.tankknoten_rdwc_auto_zuletzt_befuellt
            name: Zuletzt gefüllt
            vertical: false
            features_position: bottom
          - type: tile
            entity: sensor.tankknoten_rdwc_automatik_version
            name: 'RDWC-Auto Version:'
            icon: mdi:diversify
            vertical: false
            features_position: bottom
            grid_options:
              columns: 8
              rows: 1
          - type: custom:mushroom-number-card
            entity: number.tankknoten_rdwc_auto_ziellevel
            layout: horizontal
            name: Max Level
            display_mode: buttons
    header:
      layout: center
      badges_position: top
      badges_wrap: scroll
    badges:
      - type: entity
        show_name: true
        show_state: true
        show_icon: true
        entity: sensor.hydroknoten_hydroknoten_version
        name: 'Hydro:'
        icon: mdi:paperclip
      - type: entity
        show_name: true
        show_state: true
        show_icon: true
        entity: sensor.tankknoten_tankknoten_version
        name: 'Tank:'
        icon: mdi:paperclip
      - type: entity
        show_name: true
        show_state: true
        show_icon: true
        entity: sensor.tankknoten_spuelautomatik_version
        icon: mdi:diversify
        name: 'Spül:'
    cards: []
  - type: sections
    max_columns: 4
    title: Status
    path: status
    sections:
      - type: grid
        cards: []
        column_span: 4
      - type: grid
        cards:
          - type: entities
            entities:
              - entity: binary_sensor.tankknoten_notfall_wasserwachter
                name: 'Wasserschalter:'
              - entity: sensor.tankknoten_tankknoten_wlan_ssid
                name: 'Verbunden mit:'
                icon: mdi:wifi
              - entity: sensor.tankknoten_tankknoten_version
                name: 'Firmware-Version: '
              - entity: sensor.tankknoten_tankknoten_ip
                name: 'IP-Adresse:'
            show_header_toggle: false
            title: ESP-Tankknoten
            state_color: true
          - type: entities
            entities:
              - entity: binary_sensor.zeltsensor_esp_status
                name: 'Status:'
              - entity: sensor.zeltsensor_esp_wifi_ssid
                name: 'Verbunden mit:'
                icon: mdi:wifi
              - entity: sensor.zeltsensor_zeltsensor_version
                name: 'Firmware-Version: '
              - entity: sensor.zeltsensor_esp_uptime
                secondary_info: none
                name: 'Online seit: '
              - entity: sensor.zeltsensor_esp_ip_adresse
                name: 'IP-Adresse:'
            show_header_toggle: false
            title: ESP-Zeltknoten
            state_color: true
          - type: entities
            entities:
              - entity: device_tracker.unifi_default_14_08_08_a4_ef_4c
                name: 'Status:'
              - entity: sensor.hydroknoten_esp_wifi_ssid
                name: 'Verbunden mit:'
                icon: mdi:wifi
              - entity: sensor.hydroknoten_hydroknoten_version
                name: 'Firmware-Version: '
              - entity: sensor.zeltsensor_esp_uptime
                secondary_info: none
                name: 'Online seit: '
              - entity: sensor.hydroknoten_esp_ip_adresse
                name: 'IP-Adresse:'
            show_header_toggle: false
            title: ESP-Hydroknoten
            state_color: true
          - type: entities
            entities:
              - entity: binary_sensor.dosierung_status_verbunden
                name: 'Status:'
              - entity: sensor.dosierung_dosierung_wlan_ssid
                name: 'Verbunden mit:'
                icon: mdi:wifi
              - entity: sensor.ventilknoten_projekt_version
                name: 'Firmware-Version: '
              - entity: sensor.dosierung_dosierung_uptime
                secondary_info: none
                name: 'Online seit: '
              - entity: sensor.dosierung_dosierung_ip
                name: 'IP-Adresse:'
            show_header_toggle: false
            title: ESP-Dosierungsknoten
            state_color: true
        column_span: 2
      - type: grid
        cards:
          - type: logbook
            target:
              entity_id:
                - number.dosierung_min_ruhrzeit_zwischen_dosierungen
                - number.dosierung_durchmischungs_dauer_system_zyklus
                - number.dosierung_ec_toleranzbereich_ms_cm
                - number.dosierung_dosiervolumen_ec_pumpe_ml_min
                - number.dosierung_ruhrmotor_dauer_sekunden
                - number.dosierung_ruhrmotor_pwm_speed
                - number.dosierung_ph_zielwert
                - number.dosierung_micro_ec_pro_ml_100l
                - number.dosierung_grow_ec_pro_ml_100l
                - number.dosierung_bloom_ec_pro_ml_100l
                - number.dosierung_ph_down_ec_pro_ml_100l
                - number.dosierung_micro_flow_rate
                - number.dosierung_grow_flow_rate
                - number.dosierung_bloom_flow_rate
                - number.dosierung_ph_down_flow_rate
                - number.dosierung_micro_max_ml_tag
                - number.dosierung_grow_max_ml_tag
                - number.dosierung_bloom_max_ml_tag
                - number.dosierung_ph_down_max_ml_tag
                - number.dosierung_micro_drehzahl
                - number.dosierung_grow_drehzahl
                - number.dosierung_bloom_drehzahl
                - number.dosierung_ph_down_drehzahl
                - switch.dosierung_micro_steuerung
                - switch.dosierung_grow_steuerung
                - switch.dosierung_bloom_steuerung
                - switch.dosierung_ph_down_steuerung
                - number.dosierung_system_volumen_gesamt
                - switch.dosierung_dosierung_automatik
                - sensor.dosierung_dosierung_blockgrund
                - sensor.dosierung_ph_dosierung_blockgrund
            title: Dosierpumpensteuerung
            hours_to_show: 1
          - type: logbook
            target:
              entity_id:
                - sensor.dosierung_dosierung_letzte_menge
            title: Letzte Menge
        column_span: 2
  - type: sections
    max_columns: 4
    title: Menü
    path: menu
    sections: []
